{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Imoogi\\\\Desktop\\\\Electives3_proj\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { ImageUploader } from \"./components/ImageUploader\";\nimport { AnalysisResults } from \"./components/AnalysisResults\";\nimport { WeatherLocation } from \"./components/WeatherLocation\";\nimport { Sprout, Info } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysis, setAnalysis] = useState(null);\n  const [weather, setWeather] = useState(null);\n  const [location, setLocation] = useState(null);\n  const [isLoadingLocation, setIsLoadingLocation] = useState(false);\n  const [aiSoilType, setAiSoilType] = useState(null);\n  const [aiConfidence, setAiConfidence] = useState(null);\n\n  // ---------------- LOCATION + WEATHER ----------------\n  useEffect(() => {\n    getLocationAndWeather();\n  }, []);\n  const getLocationAndWeather = async () => {\n    setIsLoadingLocation(true);\n    if (\"geolocation\" in navigator) {\n      try {\n        navigator.geolocation.getCurrentPosition(async position => {\n          try {\n            const response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${position.coords.latitude}&lon=${position.coords.longitude}&format=json`);\n            const data = await response.json();\n            const city = data.address.city || data.address.town || data.address.village || data.address.county || \"Unknown\";\n            const country = data.address.country || \"Unknown\";\n            const climate = determineClimate(position.coords.latitude);\n            const mockLocation = {\n              city,\n              country,\n              latitude: position.coords.latitude,\n              longitude: position.coords.longitude,\n              climate\n            };\n            const mockWeather = generateMockWeather(climate);\n            setLocation(mockLocation);\n            setWeather(mockWeather);\n            setIsLoadingLocation(false);\n          } catch (error) {\n            const climate = determineClimate(position.coords.latitude);\n            const mockLocation = generateMockLocation(position.coords.latitude, position.coords.longitude);\n            const mockWeather = generateMockWeather(climate);\n            setLocation(mockLocation);\n            setWeather(mockWeather);\n            setIsLoadingLocation(false);\n          }\n        }, error => {\n          const defaultLocation = generateMockLocation(40.7128, -74.006);\n          setLocation(defaultLocation);\n          setWeather(generateMockWeather(defaultLocation.climate));\n          setIsLoadingLocation(false);\n        }, {\n          enableHighAccuracy: false,\n          timeout: 5000,\n          maximumAge: 0\n        });\n      } catch (error) {\n        const defaultLocation = generateMockLocation(40.7128, -74.006);\n        setLocation(defaultLocation);\n        setWeather(generateMockWeather(defaultLocation.climate));\n        setIsLoadingLocation(false);\n      }\n    } else {\n      const defaultLocation = generateMockLocation(40.7128, -74.006);\n      setLocation(defaultLocation);\n      setWeather(generateMockWeather(defaultLocation.climate));\n      setIsLoadingLocation(false);\n    }\n  };\n  const handleImageUpload = async (file, previewUrl) => {\n    setUploadedImage(previewUrl);\n    setIsAnalyzing(true);\n    setAnalysis(null);\n    try {\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      const res = await fetch(\"http://localhost:5000/api/soil/analyze-image\", {\n        method: \"POST\",\n        body: formData\n      });\n\n      // Read raw text so we can debug easily\n      const text = await res.text();\n      console.log(\"Backend status:\", res.status, res.statusText);\n      console.log(\"Backend raw body:\", text);\n      if (!res.ok) {\n        throw new Error(`HTTP ${res.status}: ${text}`);\n      }\n      let data;\n      try {\n        data = JSON.parse(text);\n      } catch (e) {\n        console.error(\"JSON parse error:\", e);\n        throw new Error(\"Response is not valid JSON\");\n      }\n      const rawSoilType = data.soilType || data.soil_type || data.predicted_class || \"Unknown\";\n      const analysisResult = generateMockAnalysis(rawSoilType,\n      // aiSoilType\n      weather, location);\n\n      // optional: keep model confidence to show in UI\n      analysisResult.modelConfidence = data.confidence !== undefined ? data.confidence : null;\n      setAnalysis(analysisResult);\n    } catch (err) {\n      console.error(\"Error analyzing soil:\", err);\n      alert(\"Error analyzing soil image. Check console for details.\");\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  const handleReset = () => {\n    setUploadedImage(null);\n    setAnalysis(null);\n    setAiSoilType(null);\n    setAiConfidence(null);\n    setIsAnalyzing(false);\n  };\n\n  // ---------------- UI ----------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-6 py-12 max-w-7xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-flex items-center gap-3 mb-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/30\",\n            children: /*#__PURE__*/_jsxDEV(Sprout, {\n              className: \"w-8 h-8 text-white\",\n              strokeWidth: 2.5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-semibold text-green-900\",\n            children: \"AI Soil Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 text-lg max-w-2xl mx-auto leading-relaxed\",\n          children: \"Advanced soil composition analysis with AI-powered crop recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WeatherLocation, {\n        weather: weather,\n        location: location,\n        isLoading: isLoadingLocation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid lg:grid-cols-2 gap-8 mt-10\",\n        children: [/*#__PURE__*/_jsxDEV(ImageUploader, {\n          onImageUpload: handleImageUpload,\n          uploadedImage: uploadedImage,\n          isAnalyzing: isAnalyzing,\n          onReset: handleReset\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnalysisResults, {\n          analysis: analysis,\n          isAnalyzing: isAnalyzing,\n          weather: weather,\n          location: location,\n          aiSoilType: aiSoilType,\n          aiConfidence: aiConfidence\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-16 bg-white rounded-3xl p-10 shadow-lg shadow-green-500/5 border border-green-100/50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Info, {\n              className: \"w-5 h-5 text-white\",\n              strokeWidth: 2.5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-green-900\",\n            children: \"How It Works\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-3 gap-8\",\n          children: [{\n            step: \"01\",\n            title: \"Location Detection\",\n            description: \"We automatically detect your location and analyze current weather conditions for accurate recommendations.\"\n          }, {\n            step: \"02\",\n            title: \"AI Soil Analysis\",\n            description: \"Upload a soil photo and our AI analyzes composition, texture, pH levels, and nutrient content.\"\n          }, {\n            step: \"03\",\n            title: \"Smart Recommendations\",\n            description: \"Get personalized crop recommendations with detailed growth timelines optimized for your conditions.\"\n          }].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-6xl mb-4 bg-gradient-to-br from-green-200 to-emerald-200 bg-clip-text text-transparent opacity-40\",\n              children: item.step\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-green-900 mb-3 text-lg font-semibold\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-700 leading-relaxed text-sm\",\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n\n// ---------------- HELPER FUNCTIONS ----------------\n_s(App, \"3JgZosAJprKJDFQ+gGjPTYRQhjk=\");\n_c = App;\nfunction determineClimate(latitude) {\n  const absLat = Math.abs(latitude);\n  if (absLat >= 0 && absLat < 23.5) return \"Tropical\";\n  if (absLat >= 23.5 && absLat < 35) return \"Subtropical\";\n  if (absLat >= 35 && absLat < 50) return \"Temperate\";\n  if (absLat >= 50 && absLat < 60) return \"Continental\";\n  return \"Boreal\";\n}\nfunction generateMockLocation(lat, lon) {\n  const climate = determineClimate(lat);\n  return {\n    city: \"Your Location\",\n    country: \"Unknown\",\n    latitude: lat,\n    longitude: lon,\n    climate\n  };\n}\nfunction generateMockWeather(climate) {\n  const patterns = {\n    Tropical: {\n      temperature: 28,\n      condition: \"Humid\",\n      humidity: 85,\n      rainfall: 200,\n      season: \"Rainy\"\n    },\n    Subtropical: {\n      temperature: 25,\n      condition: \"Warm\",\n      humidity: 70,\n      rainfall: 120,\n      season: \"Summer\"\n    },\n    Temperate: {\n      temperature: 18,\n      condition: \"Partly Cloudy\",\n      humidity: 65,\n      rainfall: 100,\n      season: \"Spring\"\n    },\n    Continental: {\n      temperature: 12,\n      condition: \"Overcast\",\n      humidity: 70,\n      rainfall: 80,\n      season: \"Fall\"\n    },\n    Boreal: {\n      temperature: 8,\n      condition: \"Cool\",\n      humidity: 75,\n      rainfall: 60,\n      season: \"Spring\"\n    }\n  };\n  return patterns[climate] || patterns.Temperate;\n}\nfunction normalizeSoilType(raw) {\n  if (!raw) return \"Loamy Soil\";\n  const s = raw.toLowerCase();\n  if (s.includes(\"alluvial\")) return \"Alluvial Soil\";\n  if (s.includes(\"clay\")) return \"Clayey Soil\";\n  if (s.includes(\"laterite\")) return \"Laterite Soil\";\n  if (s.includes(\"sandy loam\")) return \"Sandy Loam\";\n  if (s.includes(\"sandy\") && !s.includes(\"loam\")) return \"Sandy Soil\";\n  if (s.includes(\"loam\")) return \"Loamy Soil\";\n  return \"Loamy Soil\";\n}\nfunction generateMockAnalysis(aiSoilType, weather, location) {\n  const soilTypes = [\n  // 1. LOAMY SOIL\n  {\n    type: \"Loamy Soil\",\n    pH: 6.5,\n    nitrogen: \"Medium\",\n    phosphorus: \"High\",\n    potassium: \"Medium\",\n    moisture: \"Good\",\n    texture: \"Well-balanced mixture of sand, silt, and clay with good drainage\",\n    crops: [{\n      name: \"Tomatoes\",\n      suitability: 95,\n      reason: \"Loamy soil holds nutrients and drains well, ideal for fruiting crops.\",\n      growthTimeline: [{\n        stage: \"Seed Germination\",\n        duration: \"5–10 days\",\n        description: \"Sow seeds 1/4 inch deep in seed trays or plugs.\"\n      }, {\n        stage: \"Seedling Development\",\n        duration: \"3–4 weeks\",\n        description: \"Transplant when 6–8 inches tall with several true leaves.\"\n      }, {\n        stage: \"Vegetative Growth\",\n        duration: \"4–6 weeks\",\n        description: \"Stake plants and fertilize regularly to support strong growth.\"\n      }, {\n        stage: \"Flowering & Fruiting\",\n        duration: \"4–8 weeks\",\n        description: \"Maintain consistent moisture; fruits set and ripen.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"Ongoing\",\n        description: \"Pick fully colored but firm fruits regularly.\"\n      }]\n    }, {\n      name: \"Wheat\",\n      suitability: 90,\n      reason: \"Loamy fields provide ideal aeration and root depth.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1 day\",\n        description: \"Drill seeds 1–2 inches deep in prepared seedbed.\"\n      }, {\n        stage: \"Tillering\",\n        duration: \"3–4 weeks\",\n        description: \"Multiple shoots develop from the base of the plant.\"\n      }, {\n        stage: \"Stem Extension & Heading\",\n        duration: \"4–6 weeks\",\n        description: \"Stems elongate and grain heads emerge.\"\n      }, {\n        stage: \"Grain Filling\",\n        duration: \"4–6 weeks\",\n        description: \"Kernels expand and harden.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"3–5 days\",\n        description: \"Harvest when grain is golden and moisture is around 13–14%.\"\n      }]\n    }, {\n      name: \"Carrots\",\n      suitability: 88,\n      reason: \"Fine, loose structure lets taproots grow straight and deep.\",\n      growthTimeline: [{\n        stage: \"Seed Planting\",\n        duration: \"1 day\",\n        description: \"Sow seeds shallowly (about 1/4 inch) in rows.\"\n      }, {\n        stage: \"Germination\",\n        duration: \"14–21 days\",\n        description: \"Keep soil moist until seedlings appear.\"\n      }, {\n        stage: \"Root Development\",\n        duration: \"8–10 weeks\",\n        description: \"Roots thicken underground; thin plants to proper spacing.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"2–3 weeks window\",\n        description: \"Pull when roots reach desired diameter and color.\"\n      }]\n    }]\n  },\n  // 2. CLAYEY SOIL\n  {\n    type: \"Clayey Soil\",\n    pH: 7.2,\n    nitrogen: \"High\",\n    phosphorus: \"Medium\",\n    potassium: \"High\",\n    moisture: \"High\",\n    texture: \"Heavy soil with fine particles, high water-holding capacity\",\n    crops: [{\n      name: \"Rice\",\n      suitability: 95,\n      reason: \"Clayey paddies retain water, perfect for flooded rice systems.\",\n      growthTimeline: [{\n        stage: \"Seed Preparation\",\n        duration: \"1–2 days\",\n        description: \"Soak and pre-germinate seeds in water.\"\n      }, {\n        stage: \"Nursery / Seedling Stage\",\n        duration: \"2–3 weeks\",\n        description: \"Grow seedlings densely in a nursery plot.\"\n      }, {\n        stage: \"Transplanting & Tillering\",\n        duration: \"3–5 weeks\",\n        description: \"Transplant to puddled field; multiple tillers form.\"\n      }, {\n        stage: \"Panicle Development & Grain Fill\",\n        duration: \"6–8 weeks\",\n        description: \"Grain heads emerge and kernels mature.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"5–7 days\",\n        description: \"Harvest when straw is yellow and grains are hard.\"\n      }]\n    }, {\n      name: \"Cabbage\",\n      suitability: 85,\n      reason: \"Moist, fertile clay supports large leafy heads.\",\n      growthTimeline: [{\n        stage: \"Seed Starting\",\n        duration: \"1 day\",\n        description: \"Start seeds in trays 6–8 weeks before transplanting.\"\n      }, {\n        stage: \"Seedling Growth\",\n        duration: \"4–6 weeks\",\n        description: \"Grow sturdy transplants with strong stems.\"\n      }, {\n        stage: \"Head Formation\",\n        duration: \"8–12 weeks\",\n        description: \"Outer leaves wrap to form a solid head.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"1–2 weeks window\",\n        description: \"Cut when heads are firm and compact.\"\n      }]\n    }, {\n      name: \"Broccoli\",\n      suitability: 88,\n      reason: \"Cool, moist clayey soils are favorable for brassicas.\",\n      growthTimeline: [{\n        stage: \"Nursery Stage\",\n        duration: \"4–6 weeks\",\n        description: \"Raise seedlings in trays or nursery beds.\"\n      }, {\n        stage: \"Vegetative Growth\",\n        duration: \"6–8 weeks\",\n        description: \"Plants form large leaves and thick stems.\"\n      }, {\n        stage: \"Head Formation\",\n        duration: \"2–3 weeks\",\n        description: \"Central head develops at the top of the stem.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"Ongoing\",\n        description: \"Cut main head before florets loosen; side shoots follow.\"\n      }]\n    }]\n  },\n  // 3. SANDY SOIL\n  {\n    type: \"Sandy Soil\",\n    pH: 6.0,\n    nitrogen: \"Low\",\n    phosphorus: \"Medium\",\n    potassium: \"Low\",\n    moisture: \"Low\",\n    texture: \"Very coarse particles with rapid drainage and low nutrient retention\",\n    crops: [{\n      name: \"Potatoes\",\n      suitability: 90,\n      reason: \"Loose sand lets tubers expand and reduces risk of rot.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1 day\",\n        description: \"Plant seed tubers 4 inches deep on ridges.\"\n      }, {\n        stage: \"Sprouting\",\n        duration: \"2–3 weeks\",\n        description: \"Shoots emerge and rows become visible.\"\n      }, {\n        stage: \"Tuber Initiation\",\n        duration: \"2–3 weeks\",\n        description: \"Small tubers begin forming underground.\"\n      }, {\n        stage: \"Tuber Bulking & Maturation\",\n        duration: \"8–10 weeks\",\n        description: \"Tubers enlarge; vines gradually yellow.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"3–5 days\",\n        description: \"Dig when foliage is dry and skins are firm.\"\n      }]\n    }, {\n      name: \"Carrots\",\n      suitability: 88,\n      reason: \"Deep sandy beds prevent forked or twisted roots.\",\n      growthTimeline: [{\n        stage: \"Sowing\",\n        duration: \"1 day\",\n        description: \"Sow thinly in rows and cover lightly.\"\n      }, {\n        stage: \"Germination\",\n        duration: \"14–21 days\",\n        description: \"Maintain moisture; sand dries quickly.\"\n      }, {\n        stage: \"Root Growth\",\n        duration: \"6–8 weeks\",\n        description: \"Roots lengthen and thicken in loose soil.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"Ongoing\",\n        description: \"Pull when roots reach desired size and color.\"\n      }]\n    }, {\n      name: \"Radishes\",\n      suitability: 85,\n      reason: \"Fast-maturing roots do well in warm, well-drained beds.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1 day\",\n        description: \"Direct sow 1/2 inch deep with close spacing.\"\n      }, {\n        stage: \"Growth\",\n        duration: \"2–3 weeks\",\n        description: \"Roots swell quickly; avoid water stress.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"1 week window\",\n        description: \"Harvest promptly to avoid pithy roots.\"\n      }]\n    }]\n  },\n  // 4. SANDY LOAM\n  {\n    type: \"Sandy Loam\",\n    pH: 6.2,\n    nitrogen: \"Medium\",\n    phosphorus: \"Medium\",\n    potassium: \"Medium\",\n    moisture: \"Moderate\",\n    texture: \"Light soil with a mix of sand and finer particles, easy to work\",\n    crops: [{\n      name: \"Groundnut (Peanut)\",\n      suitability: 92,\n      reason: \"Loose sandy loam allows pods to develop underground.\",\n      growthTimeline: [{\n        stage: \"Sowing\",\n        duration: \"1 day\",\n        description: \"Plant seeds 1–2 inches deep in rows.\"\n      }, {\n        stage: \"Vegetative Growth\",\n        duration: \"3–4 weeks\",\n        description: \"Plants form spreading leafy canopy.\"\n      }, {\n        stage: \"Flowering & Pegging\",\n        duration: \"3–4 weeks\",\n        description: \"Flowers form and pegs enter the soil.\"\n      }, {\n        stage: \"Pod Development\",\n        duration: \"4–6 weeks\",\n        description: \"Pods expand underground in the loosened soil.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"1–2 weeks\",\n        description: \"Lift plants when most pods are filled and shells dry.\"\n      }]\n    }, {\n      name: \"Potatoes\",\n      suitability: 90,\n      reason: \"Good balance of drainage and moisture supports tuber growth.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1 day\",\n        description: \"Plant seed tubers in ridges or beds.\"\n      }, {\n        stage: \"Vegetative Growth\",\n        duration: \"4–6 weeks\",\n        description: \"Plants produce foliage; hill soil around stems.\"\n      }, {\n        stage: \"Tuber Bulking\",\n        duration: \"6–8 weeks\",\n        description: \"Tubers increase in size underground.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"3–5 days\",\n        description: \"Harvest when tops yellow and soil is dry.\"\n      }]\n    }, {\n      name: \"Onion\",\n      suitability: 87,\n      reason: \"Loose structure lets bulbs swell evenly.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1 day\",\n        description: \"Plant sets or seedlings in rows with good spacing.\"\n      }, {\n        stage: \"Bulb Formation\",\n        duration: \"4–6 weeks\",\n        description: \"Bulbs thicken at the base of the leaves.\"\n      }, {\n        stage: \"Maturity\",\n        duration: \"3–4 weeks\",\n        description: \"Necks soften and tops fall over naturally.\"\n      }, {\n        stage: \"Harvest & Curing\",\n        duration: \"1–2 weeks\",\n        description: \"Pull bulbs and dry thoroughly before storage.\"\n      }]\n    }]\n  },\n  // 5. ALLUVIAL SOIL\n  {\n    type: \"Alluvial Soil\",\n    pH: 6.8,\n    nitrogen: \"Medium\",\n    phosphorus: \"High\",\n    potassium: \"High\",\n    moisture: \"Good\",\n    texture: \"Fine, fertile river-deposited soil with deep profile\",\n    crops: [{\n      name: \"Rice\",\n      suitability: 93,\n      reason: \"Fertile, level alluvial plains are ideal for irrigated rice.\",\n      growthTimeline: [{\n        stage: \"Nursery Stage\",\n        duration: \"2–3 weeks\",\n        description: \"Raise seedlings in a small, well-watered area.\"\n      }, {\n        stage: \"Transplanting & Tillering\",\n        duration: \"3–5 weeks\",\n        description: \"Transplant to main field; multiple tillers develop.\"\n      }, {\n        stage: \"Panicle Development\",\n        duration: \"3–4 weeks\",\n        description: \"Grain heads form and emerge from the sheath.\"\n      }, {\n        stage: \"Grain Fill & Maturity\",\n        duration: \"4–5 weeks\",\n        description: \"Kernels harden and straw turns yellow.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"5–7 days\",\n        description: \"Cut and thresh when grains are fully mature.\"\n      }]\n    }, {\n      name: \"Sugarcane\",\n      suitability: 90,\n      reason: \"Deep alluvial soils support long-duration, high-biomass crop.\",\n      growthTimeline: [{\n        stage: \"Setts Planting\",\n        duration: \"1–2 days\",\n        description: \"Plant stem cuttings in furrows at spacing.\"\n      }, {\n        stage: \"Tillering & Grand Growth\",\n        duration: \"6–10 months\",\n        description: \"Numerous stalks arise and grow rapidly.\"\n      }, {\n        stage: \"Ripening\",\n        duration: \"2–3 months\",\n        description: \"Sugar content increases in maturing canes.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"1–2 months window\",\n        description: \"Cut canes when juice is sweet and tops dry.\"\n      }]\n    }, {\n      name: \"Maize (Corn)\",\n      suitability: 88,\n      reason: \"High nutrient status favors vigorous maize growth.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1 day\",\n        description: \"Sow seeds 1–2 inches deep in moist soil.\"\n      }, {\n        stage: \"Vegetative Growth\",\n        duration: \"4–6 weeks\",\n        description: \"Stalk height and leaf area increase rapidly.\"\n      }, {\n        stage: \"Tasseling & Silking\",\n        duration: \"2–3 weeks\",\n        description: \"Male and female flowers appear and pollinate.\"\n      }, {\n        stage: \"Grain Filling & Harvest\",\n        duration: \"4–5 weeks\",\n        description: \"Kernels fill and ears are harvested at full size.\"\n      }]\n    }]\n  },\n  // 6. LATERITE SOIL\n  {\n    type: \"Laterite Soil\",\n    pH: 5.5,\n    nitrogen: \"Low\",\n    phosphorus: \"Low\",\n    potassium: \"Medium\",\n    moisture: \"Moderate\",\n    texture: \"Reddish, iron-rich soil, often on slopes with good drainage\",\n    crops: [{\n      name: \"Tea\",\n      suitability: 90,\n      reason: \"Acidic, well-drained laterite in high rainfall areas suits tea bushes.\",\n      growthTimeline: [{\n        stage: \"Nursery Stage\",\n        duration: \"3–6 months\",\n        description: \"Grow seedlings or cuttings under shade.\"\n      }, {\n        stage: \"Field Planting\",\n        duration: \"1–2 weeks\",\n        description: \"Transplant to terraces with proper spacing.\"\n      }, {\n        stage: \"Bush Formation\",\n        duration: \"1–2 years\",\n        description: \"Regular pruning shapes low, pluckable bushes.\"\n      }, {\n        stage: \"Plucking\",\n        duration: \"Ongoing\",\n        description: \"Harvest tender 2–3 leaves and a bud at intervals.\"\n      }]\n    }, {\n      name: \"Coffee\",\n      suitability: 88,\n      reason: \"Shaded, lateritic uplands support deep-rooted coffee plants.\",\n      growthTimeline: [{\n        stage: \"Seedling Raising\",\n        duration: \"6–9 months\",\n        description: \"Grow seedlings in bags with shade.\"\n      }, {\n        stage: \"Transplanting\",\n        duration: \"1–2 weeks\",\n        description: \"Plant along contours with shade trees.\"\n      }, {\n        stage: \"Vegetative Growth\",\n        duration: \"2–3 years\",\n        description: \"Framework branches and canopy develop.\"\n      }, {\n        stage: \"Flowering & Berry Development\",\n        duration: \"8–10 months\",\n        description: \"Flowers set berries which ripen to red.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"1–2 months\",\n        description: \"Pick ripe red berries for processing.\"\n      }]\n    }, {\n      name: \"Cashew\",\n      suitability: 85,\n      reason: \"Hardy trees thrive even on poor, lateritic slopes.\",\n      growthTimeline: [{\n        stage: \"Planting\",\n        duration: \"1–2 days\",\n        description: \"Plant grafts or seedlings at wide spacing.\"\n      }, {\n        stage: \"Canopy Development\",\n        duration: \"2–3 years\",\n        description: \"Tree forms broad, spreading crown.\"\n      }, {\n        stage: \"Flowering & Fruiting\",\n        duration: \"3–4 months\",\n        description: \"Panicles bear flowers and nuts with apples.\"\n      }, {\n        stage: \"Harvest\",\n        duration: \"1–2 months\",\n        description: \"Collect fallen nuts and dry before storage.\"\n      }]\n    }]\n  }];\n  const normalized = normalizeSoilType(aiSoilType);\n  const selectedType = soilTypes.find(s => s.type === normalized) || soilTypes[0];\n  const adjustedCrops = selectedType.crops.map(crop => {\n    let adjustedSuitability = crop.suitability;\n    let weatherImpact = \"\";\n    if (weather) {\n      // temperature effects\n      if (weather.temperature > 25 && [\"Lettuce\", \"Broccoli\", \"Cabbage\"].includes(crop.name)) {\n        adjustedSuitability -= 15;\n        weatherImpact = \"Current temperature is too warm for optimal growth\";\n      } else if (weather.temperature < 15 && [\"Tomatoes\", \"Peppers\", \"Watermelon\"].includes(crop.name)) {\n        adjustedSuitability -= 20;\n        weatherImpact = \"Current temperature is too cool, wait for warmer weather\";\n      } else if (weather.temperature >= 18 && weather.temperature <= 25) {\n        adjustedSuitability += 5;\n        weatherImpact = \"Perfect temperature range for growing\";\n      }\n\n      // rainfall effects\n      if (weather.rainfall > 150 && [\"Carrots\", \"Potatoes\", \"Radishes\"].includes(crop.name)) {\n        adjustedSuitability -= 10;\n        weatherImpact += (weatherImpact ? \" • \" : \"\") + \"High rainfall may cause root issues\";\n      } else if (weather.rainfall < 60 && [\"Rice\", \"Cabbage\"].includes(crop.name)) {\n        adjustedSuitability -= 15;\n        weatherImpact += (weatherImpact ? \" • \" : \"\") + \"Low rainfall, irrigation recommended\";\n      }\n    }\n    return {\n      ...crop,\n      suitability: Math.max(40, Math.min(100, adjustedSuitability)),\n      weatherImpact: weatherImpact || \"Weather conditions are suitable\"\n    };\n  }).sort((a, b) => b.suitability - a.suitability);\n  let weatherAdjustment = \"\";\n  let locationAdjustment = \"\";\n  if (weather) {\n    weatherAdjustment = `Current ${weather.season.toLowerCase()} conditions with ` + `${weather.temperature}°C temperature and ${weather.humidity}% ` + `humidity have been factored into recommendations.`;\n  }\n  if (location) {\n    locationAdjustment = `Your ${location.climate.toLowerCase()} climate zone in ` + `${location.city}, ${location.country} influences the crop ` + `selection and timing.`;\n  }\n  return {\n    soilType: selectedType.type,\n    pH: selectedType.pH,\n    nutrients: {\n      nitrogen: selectedType.nitrogen,\n      phosphorus: selectedType.phosphorus,\n      potassium: selectedType.potassium\n    },\n    recommendedCrops: adjustedCrops,\n    moisture: selectedType.moisture,\n    texture: selectedType.texture,\n    weatherAdjustment,\n    locationAdjustment\n  };\n}\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ImageUploader","AnalysisResults","WeatherLocation","Sprout","Info","jsxDEV","_jsxDEV","App","_s","uploadedImage","setUploadedImage","isAnalyzing","setIsAnalyzing","analysis","setAnalysis","weather","setWeather","location","setLocation","isLoadingLocation","setIsLoadingLocation","aiSoilType","setAiSoilType","aiConfidence","setAiConfidence","getLocationAndWeather","navigator","geolocation","getCurrentPosition","position","response","fetch","coords","latitude","longitude","data","json","city","address","town","village","county","country","climate","determineClimate","mockLocation","mockWeather","generateMockWeather","error","generateMockLocation","defaultLocation","enableHighAccuracy","timeout","maximumAge","handleImageUpload","file","previewUrl","formData","FormData","append","res","method","body","text","console","log","status","statusText","ok","Error","JSON","parse","e","rawSoilType","soilType","soil_type","predicted_class","analysisResult","generateMockAnalysis","modelConfidence","confidence","undefined","err","alert","handleReset","className","children","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","isLoading","onImageUpload","onReset","step","title","description","map","item","index","_c","absLat","Math","abs","lat","lon","patterns","Tropical","temperature","condition","humidity","rainfall","season","Subtropical","Temperate","Continental","Boreal","normalizeSoilType","raw","s","toLowerCase","includes","soilTypes","type","pH","nitrogen","phosphorus","potassium","moisture","texture","crops","name","suitability","reason","growthTimeline","stage","duration","normalized","selectedType","find","adjustedCrops","crop","adjustedSuitability","weatherImpact","max","min","sort","a","b","weatherAdjustment","locationAdjustment","nutrients","recommendedCrops","$RefreshReg$"],"sources":["C:/Users/Imoogi/Desktop/Electives3_proj/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ImageUploader } from \"./components/ImageUploader\";\nimport { AnalysisResults } from \"./components/AnalysisResults\";\nimport { WeatherLocation } from \"./components/WeatherLocation\";\nimport { Sprout, Info } from \"lucide-react\";\n\nexport default function App() {\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysis, setAnalysis] = useState(null);\n  const [weather, setWeather] = useState(null);\n  const [location, setLocation] = useState(null);\n  const [isLoadingLocation, setIsLoadingLocation] = useState(false);\n  const [aiSoilType, setAiSoilType] = useState(null);\n  const [aiConfidence, setAiConfidence] = useState(null);\n\n  // ---------------- LOCATION + WEATHER ----------------\n  useEffect(() => {\n    getLocationAndWeather();\n  }, []);\n\n  const getLocationAndWeather = async () => {\n    setIsLoadingLocation(true);\n\n    if (\"geolocation\" in navigator) {\n      try {\n        navigator.geolocation.getCurrentPosition(\n          async (position) => {\n            try {\n              const response = await fetch(\n                `https://nominatim.openstreetmap.org/reverse?lat=${position.coords.latitude}&lon=${position.coords.longitude}&format=json`\n              );\n              const data = await response.json();\n\n              const city =\n                data.address.city ||\n                data.address.town ||\n                data.address.village ||\n                data.address.county ||\n                \"Unknown\";\n              const country = data.address.country || \"Unknown\";\n              const climate = determineClimate(position.coords.latitude);\n\n              const mockLocation = {\n                city,\n                country,\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n                climate,\n              };\n\n              const mockWeather = generateMockWeather(climate);\n\n              setLocation(mockLocation);\n              setWeather(mockWeather);\n              setIsLoadingLocation(false);\n            } catch (error) {\n              const climate = determineClimate(position.coords.latitude);\n              const mockLocation = generateMockLocation(\n                position.coords.latitude,\n                position.coords.longitude\n              );\n              const mockWeather = generateMockWeather(climate);\n\n              setLocation(mockLocation);\n              setWeather(mockWeather);\n              setIsLoadingLocation(false);\n            }\n          },\n          (error) => {\n            const defaultLocation = generateMockLocation(40.7128, -74.006);\n            setLocation(defaultLocation);\n            setWeather(generateMockWeather(defaultLocation.climate));\n            setIsLoadingLocation(false);\n          },\n          {\n            enableHighAccuracy: false,\n            timeout: 5000,\n            maximumAge: 0,\n          }\n        );\n      } catch (error) {\n        const defaultLocation = generateMockLocation(40.7128, -74.006);\n        setLocation(defaultLocation);\n        setWeather(generateMockWeather(defaultLocation.climate));\n        setIsLoadingLocation(false);\n      }\n    } else {\n      const defaultLocation = generateMockLocation(40.7128, -74.006);\n      setLocation(defaultLocation);\n      setWeather(generateMockWeather(defaultLocation.climate));\n      setIsLoadingLocation(false);\n    }\n  };\n\n\n\nconst handleImageUpload = async (file, previewUrl) => {\n  setUploadedImage(previewUrl);\n  setIsAnalyzing(true);\n  setAnalysis(null);\n\n  try {\n    const formData = new FormData();\n    formData.append(\"image\", file);\n\n    const res = await fetch(\"http://localhost:5000/api/soil/analyze-image\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    // Read raw text so we can debug easily\n    const text = await res.text();\n    console.log(\"Backend status:\", res.status, res.statusText);\n    console.log(\"Backend raw body:\", text);\n\n    if (!res.ok) {\n      throw new Error(`HTTP ${res.status}: ${text}`);\n    }\n\n    let data;\n    try {\n      data = JSON.parse(text);\n    } catch (e) {\n      console.error(\"JSON parse error:\", e);\n      throw new Error(\"Response is not valid JSON\");\n    }\n\n    const rawSoilType =\n      data.soilType || data.soil_type || data.predicted_class || \"Unknown\";\n\n    const analysisResult = generateMockAnalysis(\n      rawSoilType,  // aiSoilType\n      weather,\n      location\n    );\n\n    // optional: keep model confidence to show in UI\n    analysisResult.modelConfidence =\n      data.confidence !== undefined ? data.confidence : null;\n\n    setAnalysis(analysisResult);\n  } catch (err) {\n    console.error(\"Error analyzing soil:\", err);\n    alert(\"Error analyzing soil image. Check console for details.\");\n  } finally {\n    setIsAnalyzing(false);\n  }\n};\nconst handleReset = () => {\n  setUploadedImage(null);\n  setAnalysis(null);\n  setAiSoilType(null);\n  setAiConfidence(null);\n  setIsAnalyzing(false);\n};\n\n  // ---------------- UI ----------------\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50\">\n      <div className=\"container mx-auto px-6 py-12 max-w-7xl\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <div className=\"inline-flex items-center gap-3 mb-5\">\n            <div className=\"w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/30\">\n              <Sprout className=\"w-8 h-8 text-white\" strokeWidth={2.5} />\n            </div>\n            <h1 className=\"text-3xl font-semibold text-green-900\">\n              AI Soil Analysis\n            </h1>\n          </div>\n          <p className=\"text-green-700 text-lg max-w-2xl mx-auto leading-relaxed\">\n            Advanced soil composition analysis with AI-powered crop\n            recommendations\n          </p>\n        </div>\n\n        {/* Location + Weather card */}\n        <WeatherLocation\n          weather={weather}\n          location={location}\n          isLoading={isLoadingLocation}\n        />\n\n        {/* Main content */}\n        <div className=\"grid lg:grid-cols-2 gap-8 mt-10\">\n          <ImageUploader\n            onImageUpload={handleImageUpload}\n            uploadedImage={uploadedImage}\n            isAnalyzing={isAnalyzing}\n            onReset={handleReset}\n          />\n\n          <AnalysisResults\n            analysis={analysis}\n            isAnalyzing={isAnalyzing}\n            weather={weather}\n            location={location}\n            aiSoilType={aiSoilType}\n            aiConfidence={aiConfidence}\n          />\n        </div>\n\n        {/* How it works */}\n        <div className=\"mt-16 bg-white rounded-3xl p-10 shadow-lg shadow-green-500/5 border border-green-100/50\">\n          <div className=\"flex items-center gap-3 mb-8\">\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center\">\n              <Info className=\"w-5 h-5 text-white\" strokeWidth={2.5} />\n            </div>\n            <h3 className=\"text-xl font-semibold text-green-900\">\n              How It Works\n            </h3>\n          </div>\n\n          <div className=\"grid md:grid-cols-3 gap-8\">\n            {[\n              {\n                step: \"01\",\n                title: \"Location Detection\",\n                description:\n                  \"We automatically detect your location and analyze current weather conditions for accurate recommendations.\",\n              },\n              {\n                step: \"02\",\n                title: \"AI Soil Analysis\",\n                description:\n                  \"Upload a soil photo and our AI analyzes composition, texture, pH levels, and nutrient content.\",\n              },\n              {\n                step: \"03\",\n                title: \"Smart Recommendations\",\n                description:\n                  \"Get personalized crop recommendations with detailed growth timelines optimized for your conditions.\",\n              },\n            ].map((item, index) => (\n              <div key={index} className=\"relative\">\n                <div className=\"text-6xl mb-4 bg-gradient-to-br from-green-200 to-emerald-200 bg-clip-text text-transparent opacity-40\">\n                  {item.step}\n                </div>\n                <h4 className=\"text-green-900 mb-3 text-lg font-semibold\">\n                  {item.title}\n                </h4>\n                <p className=\"text-green-700 leading-relaxed text-sm\">\n                  {item.description}\n                </p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ---------------- HELPER FUNCTIONS ----------------\n\nfunction determineClimate(latitude) {\n  const absLat = Math.abs(latitude);\n  if (absLat >= 0 && absLat < 23.5) return \"Tropical\";\n  if (absLat >= 23.5 && absLat < 35) return \"Subtropical\";\n  if (absLat >= 35 && absLat < 50) return \"Temperate\";\n  if (absLat >= 50 && absLat < 60) return \"Continental\";\n  return \"Boreal\";\n}\n\nfunction generateMockLocation(lat, lon) {\n  const climate = determineClimate(lat);\n  return {\n    city: \"Your Location\",\n    country: \"Unknown\",\n    latitude: lat,\n    longitude: lon,\n    climate,\n  };\n}\n\nfunction generateMockWeather(climate) {\n  const patterns = {\n    Tropical: {\n      temperature: 28,\n      condition: \"Humid\",\n      humidity: 85,\n      rainfall: 200,\n      season: \"Rainy\",\n    },\n    Subtropical: {\n      temperature: 25,\n      condition: \"Warm\",\n      humidity: 70,\n      rainfall: 120,\n      season: \"Summer\",\n    },\n    Temperate: {\n      temperature: 18,\n      condition: \"Partly Cloudy\",\n      humidity: 65,\n      rainfall: 100,\n      season: \"Spring\",\n    },\n    Continental: {\n      temperature: 12,\n      condition: \"Overcast\",\n      humidity: 70,\n      rainfall: 80,\n      season: \"Fall\",\n    },\n    Boreal: {\n      temperature: 8,\n      condition: \"Cool\",\n      humidity: 75,\n      rainfall: 60,\n      season: \"Spring\",\n    },\n  };\n\n  return patterns[climate] || patterns.Temperate;\n}\n\nfunction normalizeSoilType(raw) {\n  if (!raw) return \"Loamy Soil\";\n  const s = raw.toLowerCase();\n\n  if (s.includes(\"alluvial\")) return \"Alluvial Soil\";\n  if (s.includes(\"clay\")) return \"Clayey Soil\";\n  if (s.includes(\"laterite\")) return \"Laterite Soil\";\n  if (s.includes(\"sandy loam\")) return \"Sandy Loam\";\n  if (s.includes(\"sandy\") && !s.includes(\"loam\")) return \"Sandy Soil\";\n  if (s.includes(\"loam\")) return \"Loamy Soil\";\n\n  return \"Loamy Soil\";\n}\n\nfunction generateMockAnalysis(aiSoilType, weather, location) {\n  const soilTypes = [\n    // 1. LOAMY SOIL\n    {\n      type: \"Loamy Soil\",\n      pH: 6.5,\n      nitrogen: \"Medium\",\n      phosphorus: \"High\",\n      potassium: \"Medium\",\n      moisture: \"Good\",\n      texture:\n        \"Well-balanced mixture of sand, silt, and clay with good drainage\",\n      crops: [\n        {\n          name: \"Tomatoes\",\n          suitability: 95,\n          reason:\n            \"Loamy soil holds nutrients and drains well, ideal for fruiting crops.\",\n          growthTimeline: [\n            {\n              stage: \"Seed Germination\",\n              duration: \"5–10 days\",\n              description: \"Sow seeds 1/4 inch deep in seed trays or plugs.\",\n            },\n            {\n              stage: \"Seedling Development\",\n              duration: \"3–4 weeks\",\n              description:\n                \"Transplant when 6–8 inches tall with several true leaves.\",\n            },\n            {\n              stage: \"Vegetative Growth\",\n              duration: \"4–6 weeks\",\n              description:\n                \"Stake plants and fertilize regularly to support strong growth.\",\n            },\n            {\n              stage: \"Flowering & Fruiting\",\n              duration: \"4–8 weeks\",\n              description:\n                \"Maintain consistent moisture; fruits set and ripen.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"Ongoing\",\n              description: \"Pick fully colored but firm fruits regularly.\",\n            },\n          ],\n        },\n        {\n          name: \"Wheat\",\n          suitability: 90,\n          reason: \"Loamy fields provide ideal aeration and root depth.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1 day\",\n              description: \"Drill seeds 1–2 inches deep in prepared seedbed.\",\n            },\n            {\n              stage: \"Tillering\",\n              duration: \"3–4 weeks\",\n              description: \"Multiple shoots develop from the base of the plant.\",\n            },\n            {\n              stage: \"Stem Extension & Heading\",\n              duration: \"4–6 weeks\",\n              description: \"Stems elongate and grain heads emerge.\",\n            },\n            {\n              stage: \"Grain Filling\",\n              duration: \"4–6 weeks\",\n              description: \"Kernels expand and harden.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"3–5 days\",\n              description:\n                \"Harvest when grain is golden and moisture is around 13–14%.\",\n            },\n          ],\n        },\n        {\n          name: \"Carrots\",\n          suitability: 88,\n          reason:\n            \"Fine, loose structure lets taproots grow straight and deep.\",\n          growthTimeline: [\n            {\n              stage: \"Seed Planting\",\n              duration: \"1 day\",\n              description: \"Sow seeds shallowly (about 1/4 inch) in rows.\",\n            },\n            {\n              stage: \"Germination\",\n              duration: \"14–21 days\",\n              description: \"Keep soil moist until seedlings appear.\",\n            },\n            {\n              stage: \"Root Development\",\n              duration: \"8–10 weeks\",\n              description:\n                \"Roots thicken underground; thin plants to proper spacing.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"2–3 weeks window\",\n              description:\n                \"Pull when roots reach desired diameter and color.\",\n            },\n          ],\n        },\n      ],\n    },\n\n    // 2. CLAYEY SOIL\n    {\n      type: \"Clayey Soil\",\n      pH: 7.2,\n      nitrogen: \"High\",\n      phosphorus: \"Medium\",\n      potassium: \"High\",\n      moisture: \"High\",\n      texture: \"Heavy soil with fine particles, high water-holding capacity\",\n      crops: [\n        {\n          name: \"Rice\",\n          suitability: 95,\n          reason: \"Clayey paddies retain water, perfect for flooded rice systems.\",\n          growthTimeline: [\n            {\n              stage: \"Seed Preparation\",\n              duration: \"1–2 days\",\n              description: \"Soak and pre-germinate seeds in water.\",\n            },\n            {\n              stage: \"Nursery / Seedling Stage\",\n              duration: \"2–3 weeks\",\n              description: \"Grow seedlings densely in a nursery plot.\",\n            },\n            {\n              stage: \"Transplanting & Tillering\",\n              duration: \"3–5 weeks\",\n              description: \"Transplant to puddled field; multiple tillers form.\",\n            },\n            {\n              stage: \"Panicle Development & Grain Fill\",\n              duration: \"6–8 weeks\",\n              description: \"Grain heads emerge and kernels mature.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"5–7 days\",\n              description: \"Harvest when straw is yellow and grains are hard.\",\n            },\n          ],\n        },\n        {\n          name: \"Cabbage\",\n          suitability: 85,\n          reason: \"Moist, fertile clay supports large leafy heads.\",\n          growthTimeline: [\n            {\n              stage: \"Seed Starting\",\n              duration: \"1 day\",\n              description:\n                \"Start seeds in trays 6–8 weeks before transplanting.\",\n            },\n            {\n              stage: \"Seedling Growth\",\n              duration: \"4–6 weeks\",\n              description: \"Grow sturdy transplants with strong stems.\",\n            },\n            {\n              stage: \"Head Formation\",\n              duration: \"8–12 weeks\",\n              description: \"Outer leaves wrap to form a solid head.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"1–2 weeks window\",\n              description: \"Cut when heads are firm and compact.\",\n            },\n          ],\n        },\n        {\n          name: \"Broccoli\",\n          suitability: 88,\n          reason: \"Cool, moist clayey soils are favorable for brassicas.\",\n          growthTimeline: [\n            {\n              stage: \"Nursery Stage\",\n              duration: \"4–6 weeks\",\n              description: \"Raise seedlings in trays or nursery beds.\",\n            },\n            {\n              stage: \"Vegetative Growth\",\n              duration: \"6–8 weeks\",\n              description: \"Plants form large leaves and thick stems.\",\n            },\n            {\n              stage: \"Head Formation\",\n              duration: \"2–3 weeks\",\n              description: \"Central head develops at the top of the stem.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"Ongoing\",\n              description:\n                \"Cut main head before florets loosen; side shoots follow.\",\n            },\n          ],\n        },\n      ],\n    },\n\n    // 3. SANDY SOIL\n    {\n      type: \"Sandy Soil\",\n      pH: 6.0,\n      nitrogen: \"Low\",\n      phosphorus: \"Medium\",\n      potassium: \"Low\",\n      moisture: \"Low\",\n      texture:\n        \"Very coarse particles with rapid drainage and low nutrient retention\",\n      crops: [\n        {\n          name: \"Potatoes\",\n          suitability: 90,\n          reason: \"Loose sand lets tubers expand and reduces risk of rot.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1 day\",\n              description: \"Plant seed tubers 4 inches deep on ridges.\",\n            },\n            {\n              stage: \"Sprouting\",\n              duration: \"2–3 weeks\",\n              description: \"Shoots emerge and rows become visible.\",\n            },\n            {\n              stage: \"Tuber Initiation\",\n              duration: \"2–3 weeks\",\n              description: \"Small tubers begin forming underground.\",\n            },\n            {\n              stage: \"Tuber Bulking & Maturation\",\n              duration: \"8–10 weeks\",\n              description: \"Tubers enlarge; vines gradually yellow.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"3–5 days\",\n              description: \"Dig when foliage is dry and skins are firm.\",\n            },\n          ],\n        },\n        {\n          name: \"Carrots\",\n          suitability: 88,\n          reason: \"Deep sandy beds prevent forked or twisted roots.\",\n          growthTimeline: [\n            {\n              stage: \"Sowing\",\n              duration: \"1 day\",\n              description: \"Sow thinly in rows and cover lightly.\",\n            },\n            {\n              stage: \"Germination\",\n              duration: \"14–21 days\",\n              description: \"Maintain moisture; sand dries quickly.\",\n            },\n            {\n              stage: \"Root Growth\",\n              duration: \"6–8 weeks\",\n              description: \"Roots lengthen and thicken in loose soil.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"Ongoing\",\n              description: \"Pull when roots reach desired size and color.\",\n            },\n          ],\n        },\n        {\n          name: \"Radishes\",\n          suitability: 85,\n          reason: \"Fast-maturing roots do well in warm, well-drained beds.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1 day\",\n              description: \"Direct sow 1/2 inch deep with close spacing.\",\n            },\n            {\n              stage: \"Growth\",\n              duration: \"2–3 weeks\",\n              description: \"Roots swell quickly; avoid water stress.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"1 week window\",\n              description: \"Harvest promptly to avoid pithy roots.\",\n            },\n          ],\n        },\n      ],\n    },\n\n    // 4. SANDY LOAM\n    {\n      type: \"Sandy Loam\",\n      pH: 6.2,\n      nitrogen: \"Medium\",\n      phosphorus: \"Medium\",\n      potassium: \"Medium\",\n      moisture: \"Moderate\",\n      texture:\n        \"Light soil with a mix of sand and finer particles, easy to work\",\n      crops: [\n        {\n          name: \"Groundnut (Peanut)\",\n          suitability: 92,\n          reason: \"Loose sandy loam allows pods to develop underground.\",\n          growthTimeline: [\n            {\n              stage: \"Sowing\",\n              duration: \"1 day\",\n              description: \"Plant seeds 1–2 inches deep in rows.\",\n            },\n            {\n              stage: \"Vegetative Growth\",\n              duration: \"3–4 weeks\",\n              description: \"Plants form spreading leafy canopy.\",\n            },\n            {\n              stage: \"Flowering & Pegging\",\n              duration: \"3–4 weeks\",\n              description: \"Flowers form and pegs enter the soil.\",\n            },\n            {\n              stage: \"Pod Development\",\n              duration: \"4–6 weeks\",\n              description:\n                \"Pods expand underground in the loosened soil.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"1–2 weeks\",\n              description:\n                \"Lift plants when most pods are filled and shells dry.\",\n            },\n          ],\n        },\n        {\n          name: \"Potatoes\",\n          suitability: 90,\n          reason:\n            \"Good balance of drainage and moisture supports tuber growth.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1 day\",\n              description: \"Plant seed tubers in ridges or beds.\",\n            },\n            {\n              stage: \"Vegetative Growth\",\n              duration: \"4–6 weeks\",\n              description:\n                \"Plants produce foliage; hill soil around stems.\",\n            },\n            {\n              stage: \"Tuber Bulking\",\n              duration: \"6–8 weeks\",\n              description: \"Tubers increase in size underground.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"3–5 days\",\n              description:\n                \"Harvest when tops yellow and soil is dry.\",\n            },\n          ],\n        },\n        {\n          name: \"Onion\",\n          suitability: 87,\n          reason: \"Loose structure lets bulbs swell evenly.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1 day\",\n              description:\n                \"Plant sets or seedlings in rows with good spacing.\",\n            },\n            {\n              stage: \"Bulb Formation\",\n              duration: \"4–6 weeks\",\n              description: \"Bulbs thicken at the base of the leaves.\",\n            },\n            {\n              stage: \"Maturity\",\n              duration: \"3–4 weeks\",\n              description:\n                \"Necks soften and tops fall over naturally.\",\n            },\n            {\n              stage: \"Harvest & Curing\",\n              duration: \"1–2 weeks\",\n              description:\n                \"Pull bulbs and dry thoroughly before storage.\",\n            },\n          ],\n        },\n      ],\n    },\n\n    // 5. ALLUVIAL SOIL\n    {\n      type: \"Alluvial Soil\",\n      pH: 6.8,\n      nitrogen: \"Medium\",\n      phosphorus: \"High\",\n      potassium: \"High\",\n      moisture: \"Good\",\n      texture:\n        \"Fine, fertile river-deposited soil with deep profile\",\n      crops: [\n        {\n          name: \"Rice\",\n          suitability: 93,\n          reason:\n            \"Fertile, level alluvial plains are ideal for irrigated rice.\",\n          growthTimeline: [\n            {\n              stage: \"Nursery Stage\",\n              duration: \"2–3 weeks\",\n              description:\n                \"Raise seedlings in a small, well-watered area.\",\n            },\n            {\n              stage: \"Transplanting & Tillering\",\n              duration: \"3–5 weeks\",\n              description:\n                \"Transplant to main field; multiple tillers develop.\",\n            },\n            {\n              stage: \"Panicle Development\",\n              duration: \"3–4 weeks\",\n              description:\n                \"Grain heads form and emerge from the sheath.\",\n            },\n            {\n              stage: \"Grain Fill & Maturity\",\n              duration: \"4–5 weeks\",\n              description:\n                \"Kernels harden and straw turns yellow.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"5–7 days\",\n              description:\n                \"Cut and thresh when grains are fully mature.\",\n            },\n          ],\n        },\n        {\n          name: \"Sugarcane\",\n          suitability: 90,\n          reason:\n            \"Deep alluvial soils support long-duration, high-biomass crop.\",\n          growthTimeline: [\n            {\n              stage: \"Setts Planting\",\n              duration: \"1–2 days\",\n              description:\n                \"Plant stem cuttings in furrows at spacing.\",\n            },\n            {\n              stage: \"Tillering & Grand Growth\",\n              duration: \"6–10 months\",\n              description:\n                \"Numerous stalks arise and grow rapidly.\",\n            },\n            {\n              stage: \"Ripening\",\n              duration: \"2–3 months\",\n              description:\n                \"Sugar content increases in maturing canes.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"1–2 months window\",\n              description:\n                \"Cut canes when juice is sweet and tops dry.\",\n            },\n          ],\n        },\n        {\n          name: \"Maize (Corn)\",\n          suitability: 88,\n          reason: \"High nutrient status favors vigorous maize growth.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1 day\",\n              description: \"Sow seeds 1–2 inches deep in moist soil.\",\n            },\n            {\n              stage: \"Vegetative Growth\",\n              duration: \"4–6 weeks\",\n              description:\n                \"Stalk height and leaf area increase rapidly.\",\n            },\n            {\n              stage: \"Tasseling & Silking\",\n              duration: \"2–3 weeks\",\n              description:\n                \"Male and female flowers appear and pollinate.\",\n            },\n            {\n              stage: \"Grain Filling & Harvest\",\n              duration: \"4–5 weeks\",\n              description:\n                \"Kernels fill and ears are harvested at full size.\",\n            },\n          ],\n        },\n      ],\n    },\n\n    // 6. LATERITE SOIL\n    {\n      type: \"Laterite Soil\",\n      pH: 5.5,\n      nitrogen: \"Low\",\n      phosphorus: \"Low\",\n      potassium: \"Medium\",\n      moisture: \"Moderate\",\n      texture:\n        \"Reddish, iron-rich soil, often on slopes with good drainage\",\n      crops: [\n        {\n          name: \"Tea\",\n          suitability: 90,\n          reason:\n            \"Acidic, well-drained laterite in high rainfall areas suits tea bushes.\",\n          growthTimeline: [\n            {\n              stage: \"Nursery Stage\",\n              duration: \"3–6 months\",\n              description: \"Grow seedlings or cuttings under shade.\",\n            },\n            {\n              stage: \"Field Planting\",\n              duration: \"1–2 weeks\",\n              description:\n                \"Transplant to terraces with proper spacing.\",\n            },\n            {\n              stage: \"Bush Formation\",\n              duration: \"1–2 years\",\n              description:\n                \"Regular pruning shapes low, pluckable bushes.\",\n            },\n            {\n              stage: \"Plucking\",\n              duration: \"Ongoing\",\n              description:\n                \"Harvest tender 2–3 leaves and a bud at intervals.\",\n            },\n          ],\n        },\n        {\n          name: \"Coffee\",\n          suitability: 88,\n          reason:\n            \"Shaded, lateritic uplands support deep-rooted coffee plants.\",\n          growthTimeline: [\n            {\n              stage: \"Seedling Raising\",\n              duration: \"6–9 months\",\n              description: \"Grow seedlings in bags with shade.\",\n            },\n            {\n              stage: \"Transplanting\",\n              duration: \"1–2 weeks\",\n              description:\n                \"Plant along contours with shade trees.\",\n            },\n            {\n              stage: \"Vegetative Growth\",\n              duration: \"2–3 years\",\n              description:\n                \"Framework branches and canopy develop.\",\n            },\n            {\n              stage: \"Flowering & Berry Development\",\n              duration: \"8–10 months\",\n              description:\n                \"Flowers set berries which ripen to red.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"1–2 months\",\n              description:\n                \"Pick ripe red berries for processing.\",\n            },\n          ],\n        },\n        {\n          name: \"Cashew\",\n          suitability: 85,\n          reason: \"Hardy trees thrive even on poor, lateritic slopes.\",\n          growthTimeline: [\n            {\n              stage: \"Planting\",\n              duration: \"1–2 days\",\n              description:\n                \"Plant grafts or seedlings at wide spacing.\",\n            },\n            {\n              stage: \"Canopy Development\",\n              duration: \"2–3 years\",\n              description:\n                \"Tree forms broad, spreading crown.\",\n            },\n            {\n              stage: \"Flowering & Fruiting\",\n              duration: \"3–4 months\",\n              description:\n                \"Panicles bear flowers and nuts with apples.\",\n            },\n            {\n              stage: \"Harvest\",\n              duration: \"1–2 months\",\n              description:\n                \"Collect fallen nuts and dry before storage.\",\n            },\n          ],\n        },\n      ],\n    },\n  ];\n\n  const normalized = normalizeSoilType(aiSoilType);\n  const selectedType =\n    soilTypes.find((s) => s.type === normalized) || soilTypes[0];\n\n  const adjustedCrops = selectedType.crops\n    .map((crop) => {\n      let adjustedSuitability = crop.suitability;\n      let weatherImpact = \"\";\n\n      if (weather) {\n        // temperature effects\n        if (\n          weather.temperature > 25 &&\n          [\"Lettuce\", \"Broccoli\", \"Cabbage\"].includes(crop.name)\n        ) {\n          adjustedSuitability -= 15;\n          weatherImpact = \"Current temperature is too warm for optimal growth\";\n        } else if (\n          weather.temperature < 15 &&\n          [\"Tomatoes\", \"Peppers\", \"Watermelon\"].includes(crop.name)\n        ) {\n          adjustedSuitability -= 20;\n          weatherImpact =\n            \"Current temperature is too cool, wait for warmer weather\";\n        } else if (weather.temperature >= 18 && weather.temperature <= 25) {\n          adjustedSuitability += 5;\n          weatherImpact = \"Perfect temperature range for growing\";\n        }\n\n        // rainfall effects\n        if (\n          weather.rainfall > 150 &&\n          [\"Carrots\", \"Potatoes\", \"Radishes\"].includes(crop.name)\n        ) {\n          adjustedSuitability -= 10;\n          weatherImpact +=\n            (weatherImpact ? \" • \" : \"\") +\n            \"High rainfall may cause root issues\";\n        } else if (\n          weather.rainfall < 60 &&\n          [\"Rice\", \"Cabbage\"].includes(crop.name)\n        ) {\n          adjustedSuitability -= 15;\n          weatherImpact +=\n            (weatherImpact ? \" • \" : \"\") +\n            \"Low rainfall, irrigation recommended\";\n        }\n      }\n\n      return {\n        ...crop,\n        suitability: Math.max(40, Math.min(100, adjustedSuitability)),\n        weatherImpact: weatherImpact || \"Weather conditions are suitable\",\n      };\n    })\n    .sort((a, b) => b.suitability - a.suitability);\n\n  let weatherAdjustment = \"\";\n  let locationAdjustment = \"\";\n\n  if (weather) {\n    weatherAdjustment =\n      `Current ${weather.season.toLowerCase()} conditions with ` +\n      `${weather.temperature}°C temperature and ${weather.humidity}% ` +\n      `humidity have been factored into recommendations.`;\n  }\n\n  if (location) {\n    locationAdjustment =\n      `Your ${location.climate.toLowerCase()} climate zone in ` +\n      `${location.city}, ${location.country} influences the crop ` +\n      `selection and timing.`;\n  }\n\n  return {\n    soilType: selectedType.type,\n    pH: selectedType.pH,\n    nutrients: {\n      nitrogen: selectedType.nitrogen,\n      phosphorus: selectedType.phosphorus,\n      potassium: selectedType.potassium,\n    },\n    recommendedCrops: adjustedCrops,\n    moisture: selectedType.moisture,\n    texture: selectedType.texture,\n    weatherAdjustment,\n    locationAdjustment,\n  };\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}